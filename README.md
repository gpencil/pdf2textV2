# PDF转TXT批量转换工具

一个简单高效的PDF文件批量转换工具，可以将整个目录下的所有PDF文件转换为TXT文本文件。

## 功能特点

- 批量转换整个目录下的所有PDF文件
- 支持自定义输出目录
- Web界面支持可视化目录浏览和选择

## 安装

```bash
cd pdf2txt
go build -o pdf2txt main.go
```

## Web界面功能：
- **通过系统文件选择对话框直接选择文件夹**
- 自动识别文件夹中的所有PDF文件
- 两种输出方式：
  - 下载ZIP压缩包（保存到浏览器下载文件夹）
  - 保存到本地文件夹并自动打开（推荐）

### 步骤 1：选择 PDF 文件
- 点击"📁 从系统选择文件夹"按钮
- 在弹出的系统对话框中选择包含 PDF 文件的文件夹
- 系统会自动识别所有 PDF 文件并显示列表

### 步骤 2：选择输出方式

**方式一：下载为 ZIP 文件（适合小批量文件）**
- 选择"下载为ZIP文件"选项
- 点击"开始转换"
- 转换完成后会自动下载 `converted-texts.zip`
- ZIP 文件保存在浏览器的下载文件夹（通常是 ~/Downloads/）

**方式二：保存到本地文件夹（推荐，适合大批量文件）**
- 选择"保存到本地文件夹并自动打开"选项
- 可选：指定输出文件夹（留空则使用默认位置）
- 默认位置：`~/Desktop/PDF转换结果/[原文件夹名称]/`
- 点击"开始转换"
- 转换完成后会自动打开输出文件夹
- **优点**：文件直接保存到指定位置，转换完成立即可见

## 注意事项

### Web界面模式
1. **推荐使用"保存到本地文件夹"模式**
   - 文件直接保存到指定位置，无需解压
   - 转换完成后自动打开文件夹，立即可见结果
   - 默认保存位置：`~/Desktop/PDF转换结果/[原文件夹名称]/`

2. **关于文件选择**
   - 浏览器会打开系统原生的文件夹选择对话框
   - 支持选择任意位置的文件夹
   - 会自动识别所有 PDF 文件（包括子文件夹）



安装 pdftotext：

**macOS (使用 Homebrew):**
```bash
brew install poppler
```

## 故障排除

### 转换失败：fonts based on PostScript outlines are not supported

这个错误表示 PDF 使用了 unipdf 不支持的 PostScript 字体。解决方案：

1. **安装 pdftotext**（推荐）：按照上面的依赖说明安装 poppler-utils
2. 安装后重新运行转换，程序会自动使用 pdftotext 作为备用方案
3. 查看日志输出，确认是否成功切换到 pdftotext

## 许可

本工具仅供个人学习和使用。
